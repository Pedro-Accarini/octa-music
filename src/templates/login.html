{% extends 'main.html' %}
{% block title %}Login | Spotify & YouTube Artist Metrics{% endblock %}
{% block content %}
<div class="login-page-container">
  <!-- Hero Section (Left) -->
  <div class="login-hero">
    <div class="login-hero-content">
      <div class="brand-logo">
        <svg class="logo-icon" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Octa Music Logo">
          <circle cx="32" cy="32" r="30" fill="url(#gradient1)" opacity="0.2"/>
          <circle cx="32" cy="32" r="24" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M32 20 L32 44 M20 32 L44 32" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <circle cx="32" cy="20" r="3" fill="currentColor"/>
          <circle cx="44" cy="32" r="3" fill="currentColor"/>
          <circle cx="32" cy="44" r="3" fill="currentColor"/>
          <circle cx="20" cy="32" r="3" fill="currentColor"/>
          <defs>
            <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#1db954;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#0d7a2d;stop-opacity:1" />
            </linearGradient>
          </defs>
        </svg>
        <h1 class="brand-name">Octa Music</h1>
      </div>
      <h2 class="hero-title">Unlock Music Insights</h2>
      <p class="hero-description">Access comprehensive Spotify & YouTube artist metrics. Track followers, popularity, and engagement all in one place.</p>
      <div class="hero-features">
        <div class="feature-item">
          <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18V5l12-2v13" />
            <circle cx="6" cy="18" r="3" />
            <circle cx="18" cy="16" r="3" />
          </svg>
          <span>Real-time Metrics</span>
        </div>
        <div class="feature-item">
          <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
          </svg>
          <span>Artist Analytics</span>
        </div>
        <div class="feature-item">
          <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10" />
            <polygon points="10 8 16 12 10 16 10 8" />
          </svg>
          <span>Multi-Platform</span>
        </div>
      </div>
      <div class="hero-pattern"></div>
    </div>
  </div>

  <!-- Form Section (Right) -->
  <div class="login-form-container">
    <form class="login-form" method="post" action="/login">
      <div class="form-header">
        <h2>Welcome back!</h2>
        <p class="login-desc">Sign in to your account to continue exploring artist metrics.</p>
      </div>

      <!-- Social Login Options -->
      <div class="social-login">
        <button type="button" class="social-btn" aria-disabled="true" aria-label="Sign in with Google (Coming soon)">
          <svg viewBox="0 0 24 24" class="social-icon">
            <path fill="#EA4335" d="M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z"/>
            <path fill="#34A853" d="M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z"/>
            <path fill="#4A90E2" d="M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5272727 23.1818182,9.81818182 L12,9.81818182 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z"/>
            <path fill="#FBBC05" d="M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z"/>
          </svg>
          Continue with Google
        </button>
        <button type="button" class="social-btn" aria-disabled="true" aria-label="Sign in with GitHub (Coming soon)">
          <svg viewBox="0 0 24 24" class="social-icon" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          Continue with GitHub
        </button>
      </div>

      <div class="divider">
        <span class="divider-text">or</span>
      </div>

      <!-- Input Fields -->
      <div class="input-group">
        <div class="input-wrapper">
          <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <input type="text" id="username" name="username" placeholder=" " required autocomplete="username" aria-required="true" aria-describedby="username-label">
          <label for="username" id="username-label" class="floating-label">Username</label>
        </div>
      </div>

      <div class="input-group">
        <div class="input-wrapper">
          <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
          <input type="password" id="password" name="password" placeholder=" " required autocomplete="current-password" aria-required="true" aria-describedby="password-label">
          <label for="password" id="password-label" class="floating-label">Password</label>
          <button type="button" class="password-toggle" aria-label="Show password" onclick="togglePassword()">
            <svg class="eye-icon eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <svg class="eye-icon eye-closed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </button>
        </div>
      </div>

      <div class="form-options">
        <label class="remember-me">
          <input type="checkbox" name="remember" id="remember">
          <span class="checkbox-label">Remember me</span>
        </label>
        <a href="#" class="forgot-link">Forgot password?</a>
      </div>

      <button type="submit" class="login-submit-btn">
        <span class="btn-text">Sign In</span>
        <svg class="btn-spinner" viewBox="0 0 24 24" style="display: none;">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" opacity="0.25"></circle>
          <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="3" fill="none" stroke-linecap="round"></path>
        </svg>
      </button>

      <div class="login-footer">
        <a href="/" class="back-home-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="back-icon">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
          Back to Home
        </a>
      </div>

      <div class="signup-link">
        Don't have an account? <a href="#signup">Sign up</a>
      </div>
    </form>
  </div>
</div>

<script>
function togglePassword() {
  const passwordInput = document.getElementById('password');
  const toggleBtn = document.querySelector('.password-toggle');
  const eyeOpen = document.querySelector('.eye-open');
  const eyeClosed = document.querySelector('.eye-closed');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeOpen.style.display = 'none';
    eyeClosed.style.display = 'block';
    toggleBtn.setAttribute('aria-label', 'Hide password');
  } else {
    passwordInput.type = 'password';
    eyeOpen.style.display = 'block';
    eyeClosed.style.display = 'none';
    toggleBtn.setAttribute('aria-label', 'Show password');
  }
}

// Loading state for form submission
document.querySelector('.login-form').addEventListener('submit', function(e) {
  const btn = this.querySelector('.login-submit-btn');
  const btnText = btn.querySelector('.btn-text');
  const spinner = btn.querySelector('.btn-spinner');
  
  btn.disabled = true;
  btnText.style.display = 'none';
  spinner.style.display = 'block';
});
</script>
{% endblock %}
